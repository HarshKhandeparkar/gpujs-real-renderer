!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).GPUjsRealRenderer=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var s=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDisplayKernel=void 0,e.getDisplayKernel=function(t,e){return t.createKernel((function(t){var e=t[this.thread.y][this.thread.x];this.color(e[0],e[1],e[2])}),{output:e,graphical:!0})}})),o=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getBlankGraphKernel=void 0,e.getBlankGraphKernel=function(t,e,r,s,o,i){return t.createKernel((function(){var t=this.output.x,e=this.output.y,r=Math.floor(e*(this.constants.xOffset/100)),s=Math.floor(t*(this.constants.yOffset/100));return this.thread.x===s||this.thread.y===r?this.constants.axesColor:this.constants.bgColor}),{output:e,pipeline:!0,constants:{xOffset:r,yOffset:s,bgColor:o,axesColor:i},constantTypes:{bgColor:"Array(3)",axesColor:"Array(3)",xOffset:"Float",yOffset:"Float"}})}})),i=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCloneTextureKernel=void 0,e.getCloneTextureKernel=function(t,e){return t.createKernel((function(t){return t[this.thread.y][this.thread.x]}),{output:e,pipeline:!0})}})),n=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),a=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RealRendererDefaults=void 0,e.RealRendererDefaults={dimensions:{x:1e3,y:1e3},xScaleFactor:10,yScaleFactor:1,bgColor:[0,0,0],axesColor:[1,1,1],drawsPerFrame:1,timeStep:1/60,initTime:0,xOffset:50,yOffset:50,GPU:window.GPU}})),h=r((function(e,r){var h=t&&t.__assign||function(){return(h=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=t&&t.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),c=t&&t.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||l(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.RealRenderer=r.RealRendererTypes=void 0,r.RealRendererTypes=n,c(a,r);var u=function(){function t(t){if(t=h(h({},a.RealRendererDefaults),t),this.canvas=this._canvas=t.canvas,this.dimensions=t.dimensions,this.xScaleFactor=t.xScaleFactor,this.yScaleFactor=t.yScaleFactor,this.bgColor=t.bgColor,this.axesColor=t.axesColor,this.drawsPerFrame=t.drawsPerFrame,this.timeStep=t.timeStep,this.time=t.initTime,this.xOffset=t.xOffset,this.yOffset=t.yOffset,t.GPU=t.GPU,this.xOffset=Math.max(0,Math.min(100,this.xOffset)),this.yOffset=Math.max(0,Math.min(100,this.yOffset)),void 0===this.canvas)throw"No Canvas Element Found";this.gpu=new t.GPU({canvas:this._canvas,mode:"gpu"}),this._blankGraph=o.getBlankGraphKernel(this.gpu,this.dimensions,this.xOffset,this.yOffset,this.bgColor,this.axesColor),this._cloneTexture=i.getCloneTextureKernel(this.gpu,this.dimensions),this.graphPixels=this._blankGraph(),this._display=s.getDisplayKernel(this.gpu,this.dimensions),this._doRender=!1}return t.prototype._drawFunc=function(t,e){return t},t.prototype._overlayFunc=function(t){return t},t.prototype._draw=function(){return this.time+=this.timeStep,this.graphPixels=this._drawFunc(this.graphPixels,this.time),this.graphPixels},t.prototype.draw=function(t){void 0===t&&(t=1);for(var e=0;e<t;e++)this._draw();return this._display(this._overlayFunc(this.graphPixels)),this},t.prototype._render=function(){var t=this;this._doRender&&(this.draw(this.drawsPerFrame),window.requestAnimationFrame((function(){t._render()})))},t.prototype.startRender=function(){if(!this._doRender)return this._doRender=!0,this._render(),this},t.prototype.stopRender=function(){return this._doRender=!1,this},t.prototype.toggleRender=function(){return this._doRender=!this._doRender,this._doRender&&this._render(),this},t.prototype.resetTime=function(){return this.time=0,this},t.prototype.reset=function(){return this.graphPixels=this._blankGraph(),this.resetTime(),this._display(this.graphPixels),this},t}();r.RealRenderer=u})),l=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getProgressGraphKernel=void 0,e.getProgressGraphKernel=function(t,e,r,s,o,i,n){return t.createKernel((function(t,e){var r=this.output.x,s=this.output.y;if(this.thread.x*Math.abs(this.constants.progressiveAxis-1)>=r-e||this.thread.y*this.constants.progressiveAxis>=s+e){var o=Math.floor(s*(this.constants.xOffset/100)),i=Math.floor(r*(this.constants.yOffset/100));return this.thread.x===i||this.thread.y===o?this.constants.axesColor:this.constants.bgColor}return t[this.thread.y+e*this.constants.progressiveAxis][this.thread.x+e*Math.abs(this.constants.progressiveAxis-1)]}),{output:e,pipeline:!0,constants:{progressiveAxis:"y"==r?1:0,xOffset:s,yOffset:o,axesColor:i,bgColor:n},constantTypes:{progressiveAxis:"Integer",xOffset:"Float",yOffset:"Float",axesColor:"Array(3)",bgColor:"Array(3)"}})}})),c=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSqueezeGraphKernel=void 0,e.getSqueezeGraphKernel=function(t,e,r,s,o,i,n){return t.createKernel((function(t,e){var r=this.output.x,s=this.output.y,o=Math.floor(s*(this.constants.xOffset/100)),i=Math.floor(r*(this.constants.yOffset/100));if(Math.floor(this.thread.x*(1-this.constants.progressiveAxis)/e)>=r||Math.floor(this.thread.y*this.constants.progressiveAxis/e)>=s)return this.thread.x===i||this.thread.y===o?this.constants.axesColor:this.constants.bgColor;var n=1==this.constants.progressiveAxis?Math.floor(this.thread.y/e):Math.floor(this.thread.y),a=0==this.constants.progressiveAxis?Math.floor(this.thread.x/e):Math.floor(this.thread.x);return t[n][a]}),{output:e,pipeline:!0,constants:{progressiveAxis:"y"==r?1:0,xOffset:s,yOffset:o,axesColor:i,bgColor:n},constantTypes:{progressiveAxis:"Integer",xOffset:"Float",yOffset:"Float",axesColor:"Array(3)",bgColor:"Array(3)"}})}})),u=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAddDataKernel=void 0,e.getAddDataKernel=function(t,e,r,s,o,i,n,a,h){return t.createKernel((function(t,e,r,s,o,i,n){var a=this.thread.x+o*Math.abs(this.constants.progressiveAxis-1),h=this.thread.y+o*this.constants.progressiveAxis,l=e[0],c=s[0],u=this.output.x,p=this.output.y,f=a/i-u*(this.constants.yOffset/100)/i,d=h/n-p*(this.constants.xOffset/100)/n,y=(f-r)*i,x=(d-l)*n,_=Math.sqrt(y*y+x*x),v=f*(l-c)-d-r*(l-c)+l,g=Math.abs(v)/Math.sqrt((l-c)*(l-c)+1);return _<=this.constants.brushSize?this.constants.brushColor:g<=this.constants.lineThickness&&f<=r&&f>=r-1&&d<=Math.max(l,c)&&d>=Math.min(l,c)?this.constants.lineColor:t[this.thread.y][this.thread.x]}),{output:e,pipeline:!0,constants:{brushSize:r,brushColor:s,lineThickness:n,lineColor:a,xOffset:o,yOffset:i,progressiveAxis:"y"==h?1:0},constantTypes:{brushColor:"Array(3)",brushSize:"Float",lineThickness:"Float",lineColor:"Array(3)",xOffset:"Float",yOffset:"Float",progressiveAxis:"Integer"}})}})),p=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),f=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RealLineGraphDefaults=void 0,e.RealLineGraphDefaults={progressiveAxis:"x",progressionMode:"overflow",progressInterval:1,brushSize:1,brushColor:[1,1,1],lineThickness:.05,lineColor:[0,.5,0]}})),d=r((function(e,r){var s,o=t&&t.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=t&&t.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=t&&t.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),d=t&&t.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||a(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.RealLineGraph=r.RealLineGraphTypes=r.RealRendererTypes=void 0,r.RealRendererTypes=n,r.RealLineGraphTypes=p,d(f,r);var y=function(t){function e(e){var r=t.call(this,e)||this;return e=i(i({},f.RealLineGraphDefaults),e),r.options=e,r.progressiveAxis=e.progressiveAxis,r.progressionMode=e.progressionMode,r.progressInterval=e.progressInterval,r.brushSize=e.brushSize,r.brushColor=e.brushColor,r.lineThickness=e.lineThickness,r.lineColor=e.lineColor,r._progressGraph=l.getProgressGraphKernel(r.gpu,r.dimensions,r.progressiveAxis,r.xOffset,r.yOffset,r.axesColor,r.bgColor),r._squeezeGraph=c.getSqueezeGraphKernel(r.gpu,r.dimensions,r.progressiveAxis,r.xOffset,r.yOffset,r.axesColor,r.bgColor),r._lastProgress=0,r._numProgress=0,r._dataIndex=1,r._lastData=[0],r._addData=u.getAddDataKernel(r.gpu,r.dimensions,r.brushSize,r.brushColor,r.xOffset,r.yOffset,r.lineThickness,r.lineColor,r.progressiveAxis),r.limits={x:[0-r.yOffset/100*(r.dimensions[0]/r.xScaleFactor),r.dimensions[0]/r.xScaleFactor-r.yOffset/100*(r.dimensions[0]/r.xScaleFactor)],y:[0-r.xOffset/100*(r.dimensions[1]/r.yScaleFactor),r.dimensions[1]/r.yScaleFactor-r.xOffset/100*(r.dimensions[1]/r.yScaleFactor)]},r}return o(e,t),e.prototype.addData=function(t){if(isNaN(Number(t))||(t=[Number(t)]),this.graphPixels=this._addData(this._cloneTexture(this.graphPixels),t,this._dataIndex++,this._lastData,this._numProgress,this.xScaleFactor,this.yScaleFactor),this._lastData=t,this._dataIndex>=this.limits.x[1]&&"overflow"==this.progressionMode){var e=Math.ceil("y"==this.progressiveAxis?this.yScaleFactor:this.xScaleFactor);this.graphPixels=this._progressGraph(this._cloneTexture(this.graphPixels),e),this._numProgress+=e,"y"==this.progressiveAxis?(this.limits.y[0]+=e/this.yScaleFactor,this.limits.y[1]+=e/this.yScaleFactor):(this.limits.x[1]+=e/this.xScaleFactor,this.limits.x[0]+=e/this.xScaleFactor)}if(this._dataIndex>=this.limits.x[1]&&"squeeze"==this.progressionMode){var r=this._dataIndex/(this._dataIndex+1);this.graphPixels=this._squeezeGraph(this._cloneTexture(this.graphPixels),r),"x"==this.progressiveAxis?(this.xScaleFactor*=r,this.limits.x[1]/=r):(this.yScaleFactor*=r,this.limits.y[1]/=r)}return this._display(this.graphPixels),this},e.prototype._drawFunc=function(t,e){return"continous"==this.progressionMode&&e-this._lastProgress>=this.progressInterval?(this._lastProgress=e,this._numProgress++,"y"==this.progressiveAxis?(this.limits.y[0]+=1/this.yScaleFactor,this.limits.y[1]+=1/this.yScaleFactor):(this.limits.x[0]+=1/this.xScaleFactor,this.limits.x[1]+=1/this.xScaleFactor),this._progressGraph(this._cloneTexture(t),1)):t},e.prototype.getLimits=function(){return this.limits},e.prototype.reset=function(){return t.prototype.reset.call(this),this._dataIndex=1,this._lastData=[0],this._lastProgress=0,this._numProgress=0,this.xScaleFactor=this.options.xScaleFactor,this.yScaleFactor=this.options.yScaleFactor,this.limits={x:[0-this.yOffset/100*(this.dimensions[0]/this.xScaleFactor),this.dimensions[0]/this.xScaleFactor-this.yOffset/100*(this.dimensions[0]/this.xScaleFactor)],y:[0-this.xOffset/100*(this.dimensions[1]/this.yScaleFactor),this.dimensions[1]/this.yScaleFactor-this.xOffset/100*(this.dimensions[1]/this.yScaleFactor)]},this},e}(h.RealRenderer);r.RealLineGraph=y})),y=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPlotKernel=void 0,e.getPlotKernel=function(t,e,r,s,o,i,n,a){return t.createKernel((function(t,e,r){var s=this.thread.x,o=this.thread.y,i=this.output.x,n=this.output.y,a=s/this.constants.xScaleFactor-i*(this.constants.yOffset/100)/this.constants.xScaleFactor,h=o/this.constants.yScaleFactor-n*(this.constants.xOffset/100)/this.constants.yScaleFactor,l=(a-e)*this.constants.xScaleFactor,c=(h-r)*this.constants.yScaleFactor;return Math.sqrt(l*l+c*c)<=this.constants.brushSize?this.constants.brushColor:t[this.thread.y][this.thread.x]}),{output:e,pipeline:!0,constants:{brushSize:r,brushColor:s,xScaleFactor:o,yScaleFactor:i,xOffset:n,yOffset:a},constantTypes:{brushColor:"Array(3)",brushSize:"Float",xScaleFactor:"Float",yScaleFactor:"Float",xOffset:"Float",yOffset:"Float"}})}})),x=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getInterpolateKernel=void 0,e.getInterpolateKernel=function(t,e,r,s,o,i,n,a){return t.createKernel((function(t,e,r){var s=this.thread.x,o=this.thread.y,i=this.constants.lineThickness/2,n=e[0],a=e[1],h=r[0],l=r[1],c=this.output.x,u=this.output.y,p=s/this.constants.xScaleFactor-c*(this.constants.yOffset/100)/this.constants.xScaleFactor,f=o/this.constants.yScaleFactor-u*(this.constants.xOffset/100)/this.constants.yScaleFactor,d=p*(a-l)-n*(a-l)-f*(n-h)+a*(n-h);return Math.abs(d)/Math.sqrt((a-l)*(a-l)+(n-h)*(n-h))<=i&&p<=Math.max(n,h)+i&&p>=Math.min(n,h)-i&&f<=Math.max(a,l)+i&&f>=Math.min(a,l)-i?this.constants.lineColor:t[this.thread.y][this.thread.x]}),{output:e,pipeline:!0,constants:{lineThickness:n,lineColor:a,xScaleFactor:r,yScaleFactor:s,xOffset:o,yOffset:i},constantTypes:{lineThickness:"Float",lineColor:"Array(3)",xScaleFactor:"Float",yScaleFactor:"Float",xOffset:"Float",yOffset:"Float"}})}})),_=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertCartesianPolar=e.convertPolarCartesian=void 0,e.convertPolarCartesian=function(t,e){return[t*Math.cos(e),t*Math.sin(e)]},e.convertCartesianPolar=function(t,e){return[Math.sqrt(t*t+e*e),Math.atan2(e,t)]}})),v=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Complex=void 0;var r=function(){function t(t,e){return this.r=t,this.theta=e,this.x=_.convertPolarCartesian(this.r,this.theta)[0],this.y=_.convertPolarCartesian(this.r,this.theta)[1],this}return t.prototype.getCartesianForm=function(){return[this.x,this.y]},t.prototype.getPolarForm=function(){return[this.r,this.theta]},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.r=_.convertCartesianPolar(this.x,this.y)[0],this.theta=_.convertCartesianPolar(this.x,this.y)[1],this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this.r=_.convertCartesianPolar(this.x,this.y)[0],this.theta=_.convertCartesianPolar(this.x,this.y)[1],this},t.prototype.multiply=function(t){return this.r*=t.r,this.theta+=t.theta,this.x=_.convertPolarCartesian(this.r,this.theta)[0],this.y=_.convertPolarCartesian(this.r,this.theta)[1],this},t.prototype.divide=function(t){return this.r/=t.r,this.theta-=t.theta,this.x=_.convertPolarCartesian(this.r,this.theta)[0],this.y=_.convertPolarCartesian(this.r,this.theta)[1],this},t.prototype.conjugate=function(){return this.theta*=-1,this.x=_.convertPolarCartesian(this.r,this.theta)[0],this.y=_.convertPolarCartesian(this.r,this.theta)[1],this},t.prototype.reciprocal=function(){return this.r=1/this.r,this.theta*=-1,this.x=_.convertPolarCartesian(this.r,this.theta)[0],this.y=_.convertPolarCartesian(this.r,this.theta)[1],this},t.convertCartesianPolar=_.convertCartesianPolar,t.convertPolarCartesian=_.convertPolarCartesian,t}();e.Complex=r})),g=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),m=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RealComplexSpaceDefaults=void 0,e.RealComplexSpaceDefaults={brushSize:1,brushColor:[1,1,1],changeNumbers:function(t,e,r){return t},lineThickness:.5,lineColor:[1,1,1]}})),b=r((function(e,r){var s,o=t&&t.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=t&&t.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=t&&t.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),l=t&&t.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||a(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.RealComplexSpace=r.RealComplexSpaceTypes=r.RealRendererTypes=void 0,r.RealRendererTypes=n,r.RealComplexSpaceTypes=g,l(m,r);var c=function(t){function e(e){var r=t.call(this,e)||this;return r.Complex=v.Complex,e=i(i({},m.RealComplexSpaceDefaults),e),r.brushSize=e.brushSize||1,r.brushColor=e.brushColor||[1,1,1],r.changeNumbers=e.changeNumbers||function(t,e,r){return t},r.lineThickness=e.lineThickness||.5,r.lineColor=e.lineColor||[1,1,1],r.watchedNumbers=[],r._plotComplex=y.getPlotKernel(r.gpu,r.dimensions,r.brushSize,r.brushColor,r.xScaleFactor,r.yScaleFactor,r.xOffset,r.yOffset),r._plotComplexPersistent=y.getPlotKernel(r.gpu,r.dimensions,r.brushSize,r.brushColor,r.xScaleFactor,r.yScaleFactor,r.xOffset,r.yOffset),r._interpolateKernel=x.getInterpolateKernel(r.gpu,r.dimensions,r.xScaleFactor,r.yScaleFactor,r.xOffset,r.yOffset,r.lineThickness,r.lineColor),r}return o(e,t),e.prototype.watch=function(t,e,r,s,o,i,n){return void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=!1),void 0===i&&(i=null),void 0===n&&(n={}),this.watchedNumbers.push({name:t,number:e,show:r,persistent:s,interpolate:o,interpolateTo:i,attributes:n}),this},e.prototype.clearWatched=function(){return this.watchedNumbers=[],this},e.prototype._interpolate=function(t,e,r){return t=this._interpolateKernel(this._cloneTexture(t),[e.x,e.y],[r.x,r.y])},e.prototype._overlayFunc=function(t){for(var e in this.watchedNumbers)!this.watchedNumbers[e].persistent&&this.watchedNumbers[e].show&&(t=this._plot(t,this.watchedNumbers[e].number)),this.watchedNumbers[e].interpolate&&(t=this._interpolate(t,this.watchedNumbers[e].number,this.watchedNumbers[e].interpolateTo));return t},e.prototype._drawFunc=function(t,e){for(var r in this.watchedNumbers=this.changeNumbers(this.watchedNumbers,e,this.timeStep),this.watchedNumbers)this.watchedNumbers[r].persistent&&this.watchedNumbers[r].show&&(t=this._plotPersistent(t,this.watchedNumbers[r].number));return t},e.prototype._plot=function(t,e){return this._plotComplex(this._cloneTexture(t),e.x,e.y)},e.prototype._plotPersistent=function(t,e){return this._plotComplexPersistent(this._cloneTexture(t),e.x,e.y)},e.prototype.plot=function(t){return this._persistentGraphPixels=this._plotPersistent(this._persistentGraphPixels,t),this.graphPixels=this._cloneTexture(this._persistentGraphPixels),this._display(this.graphPixels),this},e}(h.RealRenderer);r.RealComplexSpace=c})),O=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RealDrawBoardDefaults=void 0,e.RealDrawBoardDefaults={brushSize:1,brushColor:[1,1,1]}})),C=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),P=r((function(e,r){var s,o=t&&t.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=t&&t.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=t&&t.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),l=t&&t.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||a(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.RealDrawBoard=r.RealDrawBoardTypes=r.RealRendererTypes=void 0,r.RealRendererTypes=n,r.RealDrawBoardTypes=C,l(O,r);var c=function(t){function e(e){var r=t.call(this,e)||this;return r._lastCoords=null,r._clickStartCoords=null,r._getCoords=function(t){return[t.offsetX,r.dimensions[1]-t.offsetY]},r._mouseDownEventListener=function(t){0===t.button&&(r.canvas.addEventListener("mousemove",r._strokeEventListener),r._lastCoords=r._getCoords(t),r._clickStartCoords=r._getCoords(t))},r._mouseUpEventListener=function(t){if(0===t.button){r.canvas.removeEventListener("mousemove",r._strokeEventListener),r._lastCoords=null;var e=r._getCoords(t);r._clickStartCoords[0]===e[0]&&r._clickStartCoords[1]===e[1]&&r.plot.apply(r,r._getCoords(t))}},r._mouseEnterEventListener=function(t){r._lastCoords=r._getCoords(t)},r._strokeEventListener=function(t){var e=r._getCoords(t);r.stroke.apply(r,e),r._lastCoords=e},e=i(i({},O.RealDrawBoardDefaults),e),r.options=e,r.brushSize=e.brushSize,r.brushColor=e.brushColor,r._plot=y.getPlotKernel(r.gpu,r.dimensions,r.brushSize,r.brushColor,r.xScaleFactor,r.yScaleFactor,r.xOffset,r.yOffset),r._interpolate=x.getInterpolateKernel(r.gpu,r.dimensions,r.xScaleFactor,r.yScaleFactor,r.xOffset,r.yOffset,r.brushSize,r.brushColor),r}return o(e,t),e.prototype._addMouseEvents=function(){document.addEventListener("mousedown",this._mouseDownEventListener),document.addEventListener("mouseup",this._mouseUpEventListener),this.canvas.addEventListener("mouseenter",this._mouseEnterEventListener)},e.prototype._removeMouseEvents=function(){document.removeEventListener("mousedown",this._mouseDownEventListener),document.removeEventListener("mouseup",this._mouseUpEventListener),this.canvas.removeEventListener("mouseenter",this._mouseEnterEventListener)},e.prototype._drawFunc=function(t,e){return t},e.prototype.stroke=function(t,e){null===this._lastCoords&&(this._lastCoords=[t,e]),this.graphPixels=this._interpolate(this._cloneTexture(this.graphPixels),this._lastCoords,[t,e]),this._display(this.graphPixels)},e.prototype.plot=function(t,e){this.graphPixels=this._plot(this._cloneTexture(this.graphPixels),t,e),this._display(this.graphPixels)},e.prototype.startRender=function(){return this._addMouseEvents(),this},e.prototype.stopRender=function(){return this._removeMouseEvents(),this},e.prototype.changeBrushColor=function(t){},e.prototype.reset=function(){return t.prototype.reset.call(this),this.xScaleFactor=this.options.xScaleFactor,this.yScaleFactor=this.options.yScaleFactor,this},e}(h.RealRenderer);r.RealDrawBoard=c}));return e(r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RealDrawBoard=e.RealComplexSpace=e.RealLineGraph=e.RealRenderer=void 0,Object.defineProperty(e,"RealRenderer",{enumerable:!0,get:function(){return h.RealRenderer}}),Object.defineProperty(e,"RealLineGraph",{enumerable:!0,get:function(){return d.RealLineGraph}}),Object.defineProperty(e,"RealComplexSpace",{enumerable:!0,get:function(){return b.RealComplexSpace}}),Object.defineProperty(e,"RealDrawBoard",{enumerable:!0,get:function(){return P.RealDrawBoard}})})))}));
